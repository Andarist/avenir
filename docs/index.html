<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Home - Documentation</title>

    <script src="scripts/prettify/prettify.js"></script>
    <script src="scripts/prettify/lang-css.js"></script>
    <!--[if lt IE 9]>
      <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <link type="text/css" rel="stylesheet" href="https://code.ionicframework.com/ionicons/2.0.1/css/ionicons.min.css">
    <link type="text/css" rel="stylesheet" href="styles/prettify-tomorrow.css">
    <link type="text/css" rel="stylesheet" href="styles/jsdoc-default.css">
</head>
<body>

<input type="checkbox" id="nav-trigger" class="nav-trigger" />
<label for="nav-trigger" class="navicon-button x">
  <div class="navicon"></div>
</label>

<label for="nav-trigger" class="overlay"></label>

<nav>
    <li class="nav-link nav-home-link"><a href="index.html">Home</a></li><li class="nav-heading">Classes</li><li class="nav-heading"><span class="nav-item-type type-class">C</span><span class="nav-item-name"><a href="Future.html">Future</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="Future.html#subscribe">subscribe</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="Future.html#fork">fork</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="Future.html#cancel">cancel</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="Future.html#then">then</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="Future.html#orElse">orElse</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="Future.html#.of">of</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="Future.html#.resolve">resolve</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="Future.html#.reject">reject</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="Future.html#.cancel">cancel</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="Future.html#.empty">empty</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="Future.html#.all">all</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="Future.html#.race">race</a></span></li><li class="nav-heading"><span class="nav-item-type type-class">C</span><span class="nav-item-name"><a href="Task.html">Task</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="Task.html#run">run</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="Task.html#orElse">orElse</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="Task.html#then">then</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="Task.html#log">log</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="Task.html#.of">of</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="Task.html#.resolve">resolve</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="Task.html#.reject">reject</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="Task.html#.cancel">cancel</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="Task.html#.from">from</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="Task.html#.join">join</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="Task.html#.empty">empty</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="Task.html#.race2">race2</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="Task.html#.race">race</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="Task.html#.zipw">zipw</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="Task.html#.all">all</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="Task.html#.traverse">traverse</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="Task.html#.detect">detect</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="Task.html#.apply">apply</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="Task.html#.lift">lift</a></span></li><li class="nav-heading"><a href="global.html">Globals</a></li>
</nav>

<div id="main">
    

    



    









    


    <section class="readme">
        <article><h1>avenir</h1><p>Lightweight async library based on lazy futures. Inspired by <a href="https://github.com/folktale/data.task">folktale's Data.Task</a></p>
<p>The library provides <code>Tasks</code> for writing asynchronous code with JavaScript in
Node and the Browser.</p>
<p>Unlike Promises, the standard async abstraction, Tasks are <em>lazy</em> and <em>cancellable</em>.</p>
<p>Unlike Data.Task you can join results from other running Tasks which provides the
same multiple-consumer model of promises (attaching multiple thenables).</p>
<p>However, Tasks provides a strict ownership model of the control flow : The runner
of the  Task can cancel the running Task but the joiners of the running Task can not
cancel it, they only can unsubscribe from its outcome. This simplifies cancellation
semantics and avoids non trivial solutions provided by other multi-consumer solutions
(like reference counting).</p>
<h3>Tasks are Lazy</h3><p>When you create and combine Tasks using various methods (<code>then</code>, <code>all</code>, <code>race</code>),
The executor of the Task is not started which means no side effect takes place at this
moment. To effectively start a Task, you must invoke its <code>run</code> method</p>
<pre class="prettyprint source lang-js"><code>// Nothing happens here
const sumTask =
    delay(1000, 10).then(x =>
    delay(1000, 20).then(y =>
     x + y
    ))

// Execution starts from here
const future = sumTask.run(onSuccess, onError, onCancel)</code></pre><h3>Tasks are Cancellable</h3><p>After a Task has been started, it can be cancelled using the returned Future</p>
<pre class="prettyprint source lang-js"><code>// using Generator syntax
const sumTask = Task.do(function*() {
    const x = yield delay(1000, 10)
    const y = yield delay(1000, 20)
    return x + y
})

// Execution starts from here
const future = sumTask.run(onSuccess, onError, onCancel)

// ... after some time
future.cancel('some reason')</code></pre><h3>Tasks are Joinable</h3><p>A task can join the result of another started Task</p>
<pre class="prettyprint source lang-js"><code>const loginTask = Task.do(function*() {
  // ...
})

// fork run the task and returns the future of the Task
const loginFuture = loginTask.fork()

// The owner of the future can cancel it
cancelLoginButton.addEventListener(() => loginFuture.cancel('by user'))


// An auxiliary task
const fetchTask = Task.do(function*() {
  /*
    wait for login to complete.
    Rejection/cancellation of loginFuture will reject/cancel fetchTask
  */
  yield Task.join(loginFuture)
  // ... continue here
})</code></pre><h1>Documentation</h1><p><a href="https://yelouafi.github.io/avenir/">API Docs</a></p></article>
    </section>






</div>

<br class="clear">

<footer>
    Generated by <a href="https://github.com/jsdoc3/jsdoc">JSDoc 3.4.3</a> on Sun May 14 2017 00:40:07 GMT+0000 (UTC) using the Minami theme.
</footer>

<script>prettyPrint();</script>
<script src="scripts/linenumber.js"></script>
</body>
</html>